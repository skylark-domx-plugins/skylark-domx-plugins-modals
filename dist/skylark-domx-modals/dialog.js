/**
 * skylark-domx-modals - The skylark dom api extenstion library for color
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-modals/
 * @license MIT
 */
define(["skylark-langx/langx","./modals"],function(a,e){return e.dialog=function(a){a=sanitize(a);var e=$(templates.dialog),o=e.find(".modal-dialog"),t=e.find(".modal-body"),l=a.buttons,n="",s={onEscape:a.onEscape};if(void 0===$.fn.modal)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(each(l,function(a,e){n+="<button data-bb-handler='"+a+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",s[a]=e.callback}),t.find(".modals-body").html(a.message),!0===a.animate&&e.addClass("fade"),a.className&&e.addClass(a.className),"large"===a.size?o.addClass("modal-lg"):"small"===a.size&&o.addClass("modal-sm"),a.title&&t.before(templates.header),a.closeButton){var d=$(templates.closeButton);a.title?e.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(t)}return a.title&&e.find(".modal-title").html(a.title),n.length&&(t.after(templates.footer),e.find(".modal-footer").html(n)),e.on("hidden.bs.modal",function(a){a.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),"static"!==a.backdrop&&e.on("click.dismiss.bs.modal",function(a){e.children(".modal-backdrop").length&&(a.currentTarget=e.children(".modal-backdrop").get(0)),a.target===a.currentTarget&&e.trigger("escape.close.bb")}),e.on("escape.close.bb",function(a){s.onEscape&&processCallback(a,e,s.onEscape)}),e.on("click",".modal-footer button",function(a){var o=$(this).data("bb-handler");processCallback(a,e,s[o])}),e.on("click",".modals-close-button",function(a){processCallback(a,e,s.onEscape)}),e.on("keyup",function(a){27===a.which&&e.trigger("escape.close.bb")}),$(a.container).append(e),e.modal({backdrop:!!a.backdrop&&"static",keyboard:!1,show:!1}),a.show&&e.modal("show"),e}});
//# sourceMappingURL=sourcemaps/dialog.js.map
